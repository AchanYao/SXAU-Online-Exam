webpackJsonp([20],{YzGB:function(e,t){},aChI:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("5k9n"),i=a("pNvy"),o={data:function(){return{isDev:null,downloadLoading:!1,tableDataLoading:!1,tableData:[],filename:"",autoWidth:!0,refresh:!0,percentageNum:100,timer:0,updateTime:"",currentPage:1,totalPage:1,pageSize:5,keyword:""}},methods:{_getTable:function(){var e=this;this.tableDataLoading=!0,Object(n.f)(this.currentPage,this.pageSize).then(function(t){e.tableData=t.data.records,e.totalPage=t.data.pages}).finally(function(){e.tableDataLoading=!1})},handleDelete:function(e,t){this.$message({message:"index: "+e+", id: "+t.id,type:"info"})},handleSearch:function(){var e=this;null!==this.keyword&&0!==this.keyword.trim().length?(this.tableDataLoading=!0,this.downloadLoading=!0,Object(n.g)(this.currentPage,this.pageSize,this.keyword.trim()).then(function(t){e.tableData=t.data.records,e.totalPage=t.data.pages}).finally(function(){e.tableDataLoading=!1,e.downloadLoading=!1})):this._getTable()},confirmDelete:function(e){var t=this;this.$confirm("此操作将永久删除该课程, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(n.c)(e).then(function(){t.$message({type:"success",message:"删除成功!"}),t._getTable()})}).catch(function(){})},updateCourse:function(e){this.$router.push("/courses/update/"+e)},toTeacherGroup:function(e){var t=this;Object(i.b)(e).then(function(e){null===e.data?t.$message.info("该课程并未设置教师组"):t.$router.push("/teacher-groups/update/"+e.data.id)})}},mounted:function(){},watch:{currentPage:{handler:function(e,t){this._getTable()},immediate:!0}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("el-row",{staticClass:"row-bg",attrs:{justify:"end",type:"flex"}},[a("el-col",{attrs:{lg:8,md:20}},[a("el-input",{attrs:{autosize:"",placeholder:"关键字搜索，支持课程编号、课程名","prefix-icon":"el-icon-search"},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1),e._v(" "),a("el-col",{attrs:{lg:2,md:3}},[a("el-button",{staticStyle:{margin:"0 0 10px 10px"},attrs:{loading:e.downloadLoading,icon:"document",type:"primary"},on:{click:e.handleSearch}},[e._v("搜索\n      ")])],1),e._v(" "),a("el-col",{attrs:{lg:2,md:1,sm:1}},[a("el-button",{staticClass:"timer",attrs:{icon:"el-icon-refresh",type:"text"},on:{click:e._getTable}},[e._v("重置搜索")])],1)],1),e._v(" "),a("el-container",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableDataLoading,expression:"tableDataLoading"}],staticStyle:{width:"100%",margin:".5rem","min-height":"300px"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{label:"课程编号",prop:"number",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"课程名",prop:"nameZh",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{label:"教师组",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.toTeacherGroup(t.row.id)}}},[e._v("查看")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:0===t.row.deleted,expression:"scope.row.deleted === 0"}],attrs:{size:"mini",type:"success",round:""},on:{click:function(a){return e.updateCourse(t.row.id)}}},[e._v("修改\n          ")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:0===t.row.deleted,expression:"scope.row.deleted === 0"}],attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.confirmDelete(t.row.id)}}},[e._v("删除\n          ")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:1===t.row.deleted,expression:"scope.row.deleted === 1"}],attrs:{disabled:"",size:"mini",type:"text"}},[e._v("已删除")])]}}])})],1)],1),e._v(" "),a("el-row",{attrs:{justify:"center",type:"flex"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,disabled:e.tableDataLoading,"page-count":e.totalPage,"page-size":e.pageSize,layout:"prev, pager, next"},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}})],1)],1)},staticRenderFns:[]};var l=a("VU/8")(o,r,!1,function(e){a("YzGB")},"data-v-2586663e",null);t.default=l.exports}});
//# sourceMappingURL=20.5513709d8b882b1a507d.js.map